<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN"
    "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
<title>Spec Output For mruby (1.9)</title>
<style type="text/css">
ul {
  list-style: none;
}
.fail {
  color: red;
}
.pass {
  color: green;
}
#details :target {
  background-color: #ffffe0;
}
</style>
</head>
<body>
<div><p>The private keyword</p>
<ul>
<li class="fail">- marks following methods as being private (<a href="#details-1">FAILED - 1</a>)</li>
<li class="pass">- has no effect on def expr.meth() methods</li>
<li class="fail">- is overridden when a new class is opened (<a href="#details-2">FAILED - 2</a>)</li>
<li class="pass">- is no longer in effect when the class is closed</li>
<li class="fail">- changes visibility of previously called method (<a href="#details-3">FAILED - 3</a>)</li>
<li class="fail">- changes visiblity of previously called methods with same send/call site (<a href="#details-4">FAILED - 4</a>)</li>
<li class="fail">- changes the visibility of the existing method in the subclass (<a href="#details-5">FAILED - 5</a>)</li>
</ul>
</div>
<hr>
<ol id="details">
<li id="details-1"><p>The private keyword marks following methods as being private FAILED</p>
<p>Expected [:env, :be_true, :ruby_version_is, :eval, :dev_null, :be_nil, :home_directory, :username, :output, :ruby_bug, :respond_to, :be_nan, :windows_env_echo, :fake!, :Hash, :method_missing, :undefine, :output_to_fd, :equal_utf16, :enumerator_class, :initialize, :be_valid_DNS_name, :!, :have_constant, :exit, :hostname, :with_block_device, :be_true_or_false, :srand, :responds_to, :platform_is_not, :rand, :does_not_respond_to, :touch, :have_instance_method, :big_endian, :rm_r, :__method__, :fail, :mkdir_p, :little_endian, :__mspec_object_id__, :mock_to_path, :complain, :have_data, :hash_class, :extended_on, :new_hash, :should, :fixture, :not_compliant_on, :new_fd, :compliant_on, :should_not, :be_negative_zero, :context, :options_or_mode, :have_class_variable, :be_positive_zero, :Integer, :flunk, :fmode, :cp, :new_io, :conflicts_with, :fixnum_min, :to_s, :fixnum_max, :inspect, :bignum_value, :with_feature, :nan_value, :infinity_value, :be_close, :equal, :ruby_exe_options, :it_should_behave_like, :resolve_ruby_exe, :eql, :be_an_instance_of, :after, :sleep, :it, :pack_int, :before, :be_ancestor_of, :tap, :be_false, :ruby_exe, :block_given?, :global_variables, :argv, :be_empty, :be_kind_of, :ruby_cmd, :instance_exec, :nil?, :print, :be_computed_by, :it_behaves_like, :__printstr__, :format, :Array, :sprintf, :===, :encode, :process_is_foreground, :proc, :printf, :be_computed_by_function, :equal_element, :puts, :enum_for, :stasy, :p, :instance_of?, :_inspect, :as_superuser, :instance_eval, :instance_variable_get, :instance_variable_defined?, :should_receive, :not_supported_on, :to_enum, :should_not_receive, :instance_variables, :tmp, :instance_variable_set, :gets, :is_a?, :stub!, :specified_on, :protected_methods, :spawn, :kind_of?, :private_methods, :mock, :object_id, :unspecified, :methods, :foo, :respond_to?, :send, :runner_is_not, :public_methods, :runner_is, :remove_instance_variable, :!=, :raise_error, :quarantine!, :==, :raise_exception, :platform_is, :__send__, :__id__, :iterator?, :match_yaml, :local_variables, :raise, :singleton_class, :doc, :initialize_copy, :hash, :deviates_on, :extend, :equal?, :dup, :eql?, :be_negative_infinity, :class, :clone, :have_protected_instance_method, :new_datetime, :String, :bar, :have_public_instance_method, :const_lookup, :with_timezone, :have_singleton_method, :be_positive_infinity, :lambda, :with_tty, :have_method, :mock_int, :as_user, :mock_numeric, :have_instance_variable, :describe, :specify, :system, :argf, :load, :`, :require, :have_private_method, :!~, :evaluate, :loop, :have_private_instance_method, :__case_eqq, :singleton_methods, :pretty_inspect, :Float, :pp, :define_singleton_method]
not to include :bar</p>
<pre>
/Users/jared/projects/mruby-spec/mspec/lib/mspec/mocks/mock.rb:199:in Mock.cleanup
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/exception.rb:39:in ExceptionState.backtrace
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/formatters/html.rb:68:in HtmlFormatter.finish
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/formatters/html.rb:63:in HtmlFormatter.finish
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/mspec.rb:65:in MSpec.actions
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/mspec.rb:65:in MSpec#actions
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/mspec.rb:45:in MSpec#process
/Users/jared/projects/mruby-spec/mspec/lib/mspec/commands/mspec-run.rb:91:in MSpecRun.run
/Users/jared/projects/mruby-spec/mspec/lib/mspec/utils/script.rb:220:in MSpecScript#main
/Users/jared/projects/mruby-spec/mspec/bin/mspec-run:8</pre>
</li>

<li id="details-2"><p>The private keyword is overridden when a new class is opened FAILED</p>
<p>Expected NoMethodError but no exception was raised (#@result was returned)</p>
<pre>
/Users/jared/projects/mruby-spec/mspec/lib/mspec/mocks/mock.rb:199:in Mock.cleanup
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/exception.rb:39:in ExceptionState.backtrace
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/formatters/html.rb:68:in HtmlFormatter.finish
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/formatters/html.rb:63:in HtmlFormatter.finish
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/mspec.rb:65:in MSpec.actions
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/mspec.rb:65:in MSpec#actions
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/mspec.rb:45:in MSpec#process
/Users/jared/projects/mruby-spec/mspec/lib/mspec/commands/mspec-run.rb:91:in MSpecRun.run
/Users/jared/projects/mruby-spec/mspec/lib/mspec/utils/script.rb:220:in MSpecScript#main
/Users/jared/projects/mruby-spec/mspec/bin/mspec-run:8</pre>
</li>

<li id="details-3"><p>The private keyword changes visibility of previously called method FAILED</p>
<p>Expected NoMethodError but no exception was raised (#@result was returned)</p>
<pre>
/Users/jared/projects/mruby-spec/mspec/lib/mspec/mocks/mock.rb:199:in Mock.cleanup
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/exception.rb:39:in ExceptionState.backtrace
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/formatters/html.rb:68:in HtmlFormatter.finish
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/formatters/html.rb:63:in HtmlFormatter.finish
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/mspec.rb:65:in MSpec.actions
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/mspec.rb:65:in MSpec#actions
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/mspec.rb:45:in MSpec#process
/Users/jared/projects/mruby-spec/mspec/lib/mspec/commands/mspec-run.rb:91:in MSpecRun.run
/Users/jared/projects/mruby-spec/mspec/lib/mspec/utils/script.rb:220:in MSpecScript#main
/Users/jared/projects/mruby-spec/mspec/bin/mspec-run:8</pre>
</li>

<li id="details-4"><p>The private keyword changes visiblity of previously called methods with same send/call site FAILED</p>
<p>Expected NoMethodError but no exception was raised (#@result was returned)</p>
<pre>
/Users/jared/projects/mruby-spec/mspec/lib/mspec/mocks/mock.rb:199:in Mock.cleanup
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/exception.rb:39:in ExceptionState.backtrace
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/formatters/html.rb:68:in HtmlFormatter.finish
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/formatters/html.rb:63:in HtmlFormatter.finish
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/mspec.rb:65:in MSpec.actions
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/mspec.rb:65:in MSpec#actions
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/mspec.rb:45:in MSpec#process
/Users/jared/projects/mruby-spec/mspec/lib/mspec/commands/mspec-run.rb:91:in MSpecRun.run
/Users/jared/projects/mruby-spec/mspec/lib/mspec/utils/script.rb:220:in MSpecScript#main
/Users/jared/projects/mruby-spec/mspec/bin/mspec-run:8</pre>
</li>

<li id="details-5"><p>The private keyword changes the visibility of the existing method in the subclass FAILED</p>
<p>Expected NoMethodError but no exception was raised (#@result was returned)</p>
<pre>
/Users/jared/projects/mruby-spec/mspec/lib/mspec/mocks/mock.rb:199:in Mock.cleanup
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/exception.rb:39:in ExceptionState.backtrace
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/formatters/html.rb:68:in HtmlFormatter.finish
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/formatters/html.rb:63:in HtmlFormatter.finish
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/mspec.rb:65:in MSpec.actions
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/mspec.rb:65:in MSpec#actions
/Users/jared/projects/mruby-spec/mspec/lib/mspec/runner/mspec.rb:45:in MSpec#process
/Users/jared/projects/mruby-spec/mspec/lib/mspec/commands/mspec-run.rb:91:in MSpecRun.run
/Users/jared/projects/mruby-spec/mspec/lib/mspec/utils/script.rb:220:in MSpecScript#main
/Users/jared/projects/mruby-spec/mspec/bin/mspec-run:8</pre>
</li>
</ol>
<p>Finished in 0.003364 seconds</p>
<p class="fail">1 file, 7 examples, 10 expectations, 5 failures, 0 errors, 0 tagged</p>
</body>
</html>
mruby 1.2.0 (2015-11-17) 
00003 NODE_SCOPE:
00003   NODE_BEGIN:
00003     NODE_CALL:
00003       NODE_GVAR $:
00003       method='unshift' (162)
00003       args:
00003         NODE_CALL:
00003           NODE_CONST File
00003           method='expand_path' (1532)
00003           args:
00003             NODE_STR "../../lib" len 9
00003             NODE_STR "/Users/jared/projects/mruby-spec/mspec/bin/mspec-run" len 52
00005     NODE_CALL:
00005       NODE_SELF
00005       method='require' (1726)
00005       args:
00005         NODE_STR "mspec/commands/mspec-run" len 24
00006     NODE_CALL:
00006       NODE_SELF
00006       method='require' (1726)
00006       args:
00006         NODE_STR "mspec" len 5
00008     NODE_CALL:
00008       NODE_CONST MSpecRun
00008       method='main' (2121)
irep 0x7feb2345a290 nregs=6 nlocals=1 pools=4 syms=7 reps=0
file: /Users/jared/projects/mruby-spec/mspec/bin/mspec-run
    3 000 OP_GETGLOBAL	R1	:$:
    3 001 OP_GETCONST	R2	:File
    3 002 OP_STRING	R3	L(0)	; "../../lib"
    3 003 OP_STRING	R4	L(1)	; "/Users/jared/projects/mruby-spec/mspec/bin/mspec-run"
    3 004 OP_SEND	R2	:expand_path	2
    3 005 OP_SEND	R1	:unshift	1
    5 006 OP_LOADSELF	R1		
    5 007 OP_STRING	R2	L(2)	; "mspec/commands/mspec-run"
    5 008 OP_SEND	R1	:require	1
    6 009 OP_LOADSELF	R1		
    6 010 OP_STRING	R2	L(3)	; "mspec"
    6 011 OP_SEND	R1	:require	1
    8 012 OP_GETCONST	R1	:MSpecRun
    8 013 OP_SEND	R1	:main	0
    8 014 OP_STOP

